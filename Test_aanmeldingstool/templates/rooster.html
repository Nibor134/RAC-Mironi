{% extends "base4.html" %}

{% block content %}
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.4/index.global.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.4/index.global.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar-scheduler@6.1.4/index.global.min.js'></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      timeZone: 'local',
      slotLabelFormat: { hour: 'numeric', minute: '2-digit', omitZeroMinute: false, hour12: false }, eventTimeFormat: { hour: '2-digit', minute: '2-digit', hour12: false },
      initialView: 'timeGridWeek',
      events: [
        {% for event in events %}
          {% if event.start %}
            {
              title: '{{ event.summary }}',
              start: '{{ event.start }}',
              end: '{{ event.end }}'
            },
          {% endif %}
        {% endfor %}
      ]
    });
    calendar.render();
  });
</script>

<body>
  <div id='calendar'></div>
  <h1>Rooster</h1>
  <div class="row">
    {% for event in events %}
      {% if event.summary %}
        <div class="col-lg-4 col-md-6">
          <div class="card my-3">
            <div class="card-body">
              <h5 class="card-title">{{ event.summary }}</h5>
              <h6 class="card-subtitle mb-2 text-muted">{{ event.location }}</h6>
              <p class="card-text">{{ event.description }}</p>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">Start: {{ event.start }}</li>
                <li class="list-group-item">End: {{ event.end }}</li>
              </ul>
            </div>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>

{% endblock %}

