{% extends "base2.html" %}

{% block content %}
<head>
    <title>Rooster</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
<body>
  <div class="container mt-5">
      <h1 class="text-center mb-4">Rooster</h1>
      <table class="table table-striped">
          <thead>
              <tr>
                  <th>Vak</th>
                  <th>Faculteit</th>
                  <th>Lokaal</th>
                  <th>Start Tijd</th>
                  <th>Eind Tijd</th>
                  <th>Dag</th>
              </tr>
          </thead>
          <tbody id="schedule">
          </tbody>
      </table>
  </div>

  <script>
    $(document).ready(function() {
        $.ajax({
            url: '/api/schedule',
            method: 'GET',
            success: function(data) {
                var schedule = $('#schedule');
                schedule.empty();
                $.each(data, function(index, schedule_item) {
                    var row = $('<tr>');
                    row.append($('<td>').text(schedule_item['course_id']));
                    row.append($('<td>').text(schedule_item['faculty_id']));
                    row.append($('<td>').text(schedule_item['room_id']));
                    row.append($('<td>').text(schedule_item['start_time']));
                    row.append($('<td>').text(schedule_item['end_time']));
                    row.append($('<td>').text(schedule_item['days']));
                    schedule.append(row);
                });
            },
            error: function() {
                alert('Failed to retrieve schedule data');
            }
        });
    });
</script>
</body>
{% endblock %}
